{"version":3,"file":"component---src-pages-news-center-js-5484323db43d05e944ed.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/newsCenter.js"],"sourcesContent":["import * as React from \"react\"\r\nimport { StaticImage } from \"gatsby-plugin-image\"\r\nimport { List, Card } from \"antd\"\r\nimport axios from \"axios\"\r\nimport Layout from \"../components/layout\"\r\nimport Seo from \"../components/seo\"\r\n\r\n// import { withRouter } from \"react-router-dom\"\r\n\r\nimport \"./style.scss\"\r\n\r\nconst { Meta } = Card\r\nconst listData = []\r\nfor (let i = 0; i < 23; i++) {\r\n  listData.push({\r\n    href: \"https://ant.design\",\r\n    title: `ant design part ${i}`,\r\n    avatar: \"https://joeschmoe.io/api/v1/random\",\r\n    description:\r\n      \"Ant Design, a design language for background applications, is refined by Ant UED Team.\",\r\n    content:\r\n      \"We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently.\",\r\n  })\r\n}\r\n\r\nconst isBrowser = typeof window !== \"undefined\"\r\nclass newsCenter extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      newsData: [],\r\n      totalSize: 12,\r\n    }\r\n\r\n    this.onItemClick = this.onItemClick.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const that = this\r\n    var pagerIndex = 1\r\n    if (isBrowser) {\r\n      if (window.location.href.split(\"?page=\").length > 1) {\r\n        pagerIndex = parseInt(window.location.href.split(\"?page=\")[1])\r\n      }\r\n    }\r\n\r\n    axios\r\n      .get(\r\n        \"https://www.fastmock.site/mock/3a60302423a5db4ee8b58db290fdcafc/test/all_new_react?page=\" +\r\n          pagerIndex +\r\n          \"&page_size=6\"\r\n      )\r\n      .then(function (response) {\r\n        console.log(response.data.data.userInfo)\r\n        that.setState({\r\n          newsData: response.data.data.userInfo,\r\n        })\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error)\r\n      })\r\n\r\n    this.onPageChange = this.onPageChange.bind(this)\r\n    this.onItemClick = this.onItemClick.bind(this)\r\n  }\r\n\r\n  componentWillUnmount() {}\r\n\r\n  onPageChange(page, pageSize) {\r\n    console.log(\"this onPageChange = \" + page)\r\n    const that = this\r\n    axios\r\n      .get(\r\n        \"https://www.fastmock.site/mock/3a60302423a5db4ee8b58db290fdcafc/test/all_new_react?page=\" +\r\n          page +\r\n          \"&page_size=\" +\r\n          pageSize\r\n      )\r\n      .then(function (response) {\r\n        console.log(response.data.data.userInfo)\r\n        that.setState({\r\n          newsData: response.data.data.userInfo,\r\n        })\r\n        var valiable = window.location.href.split(\"?\")[0] + `?page=${page}`\r\n        window.history.pushState({}, 0, valiable)\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  onItemClick(index) {\r\n    console.log(\"onItemClick:\" + index.title)\r\n  }\r\n  render() {\r\n    const { newsData, totalSize } = this.state\r\n    const that = this\r\n    var pagerIndex = 1\r\n    if (isBrowser) {\r\n      if (window.location.href.split(\"?page=\").length > 1) {\r\n        pagerIndex = parseInt(window.location.href.split(\"?page=\")[1])\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Layout>\r\n        <Seo title=\"新闻中心\" />\r\n        <div>\r\n          <StaticImage\r\n            className=\"d-md-block d-none\"\r\n            loading=\"lazy\"\r\n            placeholder=\"blurred\"\r\n            src=\"../assets/images/newscenter.jpg\"\r\n            quality={95}\r\n            formats={[\"AUTO\", \"WEBP\", \"AVIF\"]}\r\n            alt=\"新闻中心\"\r\n            title=\"新闻中心\"\r\n          />\r\n          <StaticImage\r\n            className=\"d-md-none d-block\"\r\n            loading=\"lazy\"\r\n            placeholder=\"blurred\"\r\n            src=\"../assets/images/ydd-newscenter.jpg\"\r\n            quality={95}\r\n            formats={[\"AUTO\", \"WEBP\", \"AVIF\"]}\r\n            alt=\"新闻中心\"\r\n            title=\"新闻中心\"\r\n          />\r\n        </div>\r\n        <div className=\"news container\">\r\n          <List\r\n            grid={{\r\n              gutter: 10,\r\n              xs: 1,\r\n              sm: 3,\r\n              md: 3,\r\n              lg: 3,\r\n              xl: 3,\r\n              xxl: 3,\r\n            }}\r\n            itemLayout=\"vertical\"\r\n            size=\"large\"\r\n            split={false}\r\n            pagination={{\r\n              onChange: (page, pageSize) => {\r\n                console.log(page)\r\n                that.onPageChange(page, pageSize)\r\n              },\r\n              pageSize: 6,\r\n              total: 100,\r\n              hideOnSinglePage: true,\r\n              pageSizeOptions: [6],\r\n              showSizeChanger: false,\r\n              defaultCurrent: pagerIndex,\r\n            }}\r\n            dataSource={newsData}\r\n            header={<div className=\"news__newsTitle\">新闻中心</div>}\r\n            //   footer={\r\n            //     <div>\r\n            //       <b>ant design</b> footer part\r\n            //     </div>\r\n            //   }\r\n            renderItem={(item, index) => (\r\n              <List.Item key={item.title} className=\"news__listItem\">\r\n                <Card\r\n                  onClick={() => {\r\n                    console.log(\"onClick:\" + item.id)\r\n                    window.location.href =\r\n                      \"/bussiness/detail?id=\" + (item.id % 10)\r\n                    // this.onItemClick(item)\r\n                  }}\r\n                  hoverable\r\n                  // style={{ width: 300 }}\r\n                  cover={\r\n                    <img\r\n                      className=\"news__listItemImage\"\r\n                      alt=\"example\"\r\n                      src={item.avatar}\r\n                    />\r\n                  }\r\n                >\r\n                  <Meta title={item.showTitle} description={item.description} />\r\n                </Card>\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </div>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default newsCenter\r\n\r\nexport async function getServerData() {\r\n  try {\r\n    const res = await fetch(`https://dog.ceo/api/breeds/image/random`)\r\n    if (!res.ok) {\r\n      throw new Error(`Response failed`)\r\n    }\r\n    return {\r\n      props: await res.json(),\r\n    }\r\n  } catch (error) {\r\n    return {\r\n      headers: {\r\n        status: 500,\r\n      },\r\n      props: {},\r\n    }\r\n  }\r\n}\r\n"],"names":["Meta","listData","i","push","href","title","avatar","description","content","isBrowser","window","newsCenter","props","state","newsData","totalSize","onItemClick","bind","componentDidMount","that","this","pagerIndex","location","split","length","parseInt","axios","then","response","console","log","data","userInfo","setState","catch","error","onPageChange","componentWillUnmount","page","pageSize","valiable","history","pushState","index","render","S","className","loading","placeholder","src","quality","formats","alt","grid","gutter","xs","sm","md","lg","xl","xxl","itemLayout","size","pagination","onChange","total","hideOnSinglePage","pageSizeOptions","showSizeChanger","defaultCurrent","dataSource","header","renderItem","item","key","onClick","id","hoverable","cover","showTitle","React","getServerData","fetch","res","ok","Error","json","headers","status"],"sourceRoot":""}